*매칭이 안되는 상품은 매핑코드, 내/외주, 합포 가능 수량 입력하게끔
- 최초만 입력하면 추후엔 자동 매칭

*업체명, 박스, 부피, 포장재 빈 곳도 많으니 대안

*엑셀 파일 선택 시 테이블에 내부 정해진 테이블 틀로 보이게 하고, 박스/부피/포장재/업체명 공란 기입해서 보이게
배송메시지 맨 앞에 업체명 들어가게 (4글자 초과는 앞 2글자만)

*신규 입력란에 id 인풋 제거, etc외 전부 입력되어야 저장되게끔(code는 무조건 6자여야함)

*추천에 해당 상품이 없는 경우도 있으니 입력 버튼도 있어야함

***업체명을 어떻게 구할 것 이냐?
- 고객주문처명에 작성해서 주면 좋을텐데

*합포별로 자동 row 나누기

*가격에 따라 같은 상품이여도 다른 업체로 나가는 경우가 있으니 발주업체 수정기능도 있어야함
ex - 전복 kg에 따라 청정과 섬사랑 중에 더 싼 곳으로 나감

*사방넷 양식으로 다운할때 매핑코드의 상품명을 적용해서 다운
- 매핑코드 상품명은 ㄱ or ㅇ 으로 넣어야함


*파일 업로드 시 양식 정해서 보이게
내주 : 수취인명 / 전화번호 / 우편번호 / 주소 / 수량 / 상품명 / 배송메시지 / 박스 / 부피 / 주문자 / 주문자전번 / 고객주문처 / 주문번호 / 포장재 / 순번 / 상품코드 / 공급가
외주 : 수취인 / 전번 / 전번2 / 우편 / 주소 / 공란 / 상품명 / 배메 / 공란 / 주문하신분 / 전번 / 주문번호
CJ : 발송인 / 전번 / 주소 / 수취인 / 전번1 / 전번2 / 우편 / 주소 / 공란 / 상품명 / 배송메시지

양식 : 업체명 / 내외주 / 택배사 / 매핑코드 / 수량 / 상품명 / 배송메시지 / 수취인명 / 전번 / 우편 / 주소 / 주문자명 / 전번 / 공급가 / 박스, 부피, 포장재


*외주 양식 다운시 매핑코드 기준으로 분할 다운
- 매핑코드 기준말고, 업체명 별로 해야할 듯?

상품 정보 seeding
서버의 상품명과 매칭하여 매핑코드 노출
상품 정보에 매입처도 기입

사방넷 양식 다운할땐 ?
- 

일일히 코드 하나씩 DB에 저장하면 번거롭긴함
상품명 기준으로 매칭하는데, 납품업체와 온라이 상품명이 같아도 매핑코드 정보에 납품업체 - 온라인 구분만 하면 DB에 필터링 가능
상품명과 매핑코드를 기준으로 같은게 있으면 저장안되게
*매핑코드 스키마를 따로 만들어서 리스트업 해두고, 발주서 업로드 후 매핑코드 추천에서 선택시 해당 상품명 기준으로 저장하여 최초 이후엔 쿼리 조회하여 자동 매칭
코드를 바꿔야할때의 문제
- 청정 섬사랑 같은 케이스에서 가격 변동으로 같은 상품명이여도 다른 업체로 발주되는 경우엔?
- 매핑 데이터 페이지 생성하여 수정할 것 검색해서 
- 아니면 발주서 업로드 데이터 수정할때 매핑코드 수정하게 하고, DB에 같은 상품명 있으면 덮어쓰기 (이러면 일일히 수정할 필요는 없어짐)
- 업로드 모달에서 상품명도 변경되게? 변경전 상품명 저장해두고? 변경전 상품명 === 업로드 상품명 으로 매칭해서 자동 저장
- 근데 사방넷 매핑 전부 다운해서 내외주, 택배사 등 직접 입력하기엔 안쓰는 코드가 너무 많아서 그냥 직접 초기에 입력하게?
- 사방넷 상품명 추가?

사방넷 상품명 입력란 추가?

업로드 상품명과 DB의 상품명을 매칭하되, 표기 상품명은 DB의 사방넷 상품명으로 

납품업체 리스트화해서 셀렉트로 선택하게? 사람마다 업체명 입력 다를 수 있음

스프레스시트에서 다운한 엑셀은 업로드 에러








외주 발주서로 엑셀 다운로드시 서버의 외주 발주서의 스타일 유지하고 데이터만 넣어서 다운되게 해야하고, 


매핑코드 자동 매칭 시 추천/검색 버튼 없애면 수정이 필요할땐?
그리고 로직 자체가 실시간 매칭도 되는거라 



12/13 
- 내부코드 생성 기능
- 내부코드 검색 필터링 추가
- 업로드 창에서 코드 생성 시 에러 해결
- 발주서에 업체명이 있는 경우 자동으로 배송메시지 기입되지 않게 처리
- 로딩 오버레이 전역 가능하도록 훅 처리

12/14
ProductsTable.tsx 여기에 되어있는 로딩 처리를 발주서 업로드 페이지의 테이블에도 적용

그리고 가능하면 테이블 컴포넌트가 두갠데 하나의 컴포넌트로 사용 가능하면 재사용 가능하게 처리

발주서 업로드 페이지 페이지네이션?

CJ외주 발주서 양식도 처리

매핑코드가 없고 수량이 2이상이면 검증 실패 처리?
- 매핑코드가 있다면 수량에 맞는 합포가 있을 것으로 판단?

* 현재 파일 수정 후 검증 안됨
- 업체에서 업로드할 페이지와 api 생성
- 업체명/업로드일시/파일명 내부에 data [{}]
- 불러오는건 서버 => 보기 클릭하여 수정 작업은 클라이언트 => DB에 저장
1. 업로드된 파일을 서버에 저장
2. 보기 클릭 후 확인 누르면 서버에 저장 후 검증
3. 검증되면 active 처리
4. 중복된 파일명 오류처리
5. 파일 reading하여 업체명 서버에 저장 후 자동 입력
6. 업체명 서버에서 가져오고 노출
7. 업체명 오름차순

* 현재 자동 매칭 상품만 사방넷명 노출됨

매핑코드가 같으나, 사방넷 명이 다른 경우 못 찾아가는 에러


에러 리스트

1. 발주서 업로드 할때 신규 등록은 정상이나, 추천으로 매핑하면 상품 데이터가 같이 저장 안됨

12/15
- DB products 테이블 seeding 기능 완성
  1. main page에 엑셀 업로드 버튼 추가
  2. 엑셀 헤더를 DB 칼럼명과 자동 매칭하여 저장하는 API 생성
  3. 상품 업로드 템플릿 다운로드 기능 추가
  4. 업로드 상태 표시 UI 추가
  
구현 내용:
- /constants/productColumnMappings.ts: 엑셀 헤더와 DB 칼럼명 매칭 맵핑 정의
- /app/api/products/seed-excel/route.ts: 엑셀 파일을 읽고 DB에 저장하는 API
- /app/page.tsx: 메인 페이지에 업로드 UI 추가 및 템플릿 다운로드 기능 추가
  
사용 방법:
1. 메인 페이지에서 "템플릿 다운로드" 버튼으로 양식 다운로드
2. 양식에 맞춰 데이터 입력 (필수: 상품명, 매핑코드)
3. "엑셀 파일 선택" 버튼으로 파일 업로드
4. 자동으로 헤더 매칭 후 products 테이블에 저장

추가 처리:
- 매핑코드에서 하이픈(-) 이후의 숫자는 자동 제거 (예: "PROD-0001" → "PROD")
- 헤더 매칭 규칙 추가: "상품명(수집)", "상품코드(사방넷)", "매입처명", "세금구분", "상품구분" 등
- "상품명(확정)", "상품명(수집)" 헤더는 name과 sabangName 둘 다에 자동 매핑되도록 특별 처리

- 상품 관리 페이지에 표시 개수(페이지당 항목 수) 필터 추가 (20/40/100/400/1000)
  * hooks/useProducts.ts: itemsPerPage를 state로 변경하여 동적으로 변경 가능하도록 수정
  * components/BaseFilter.tsx: 표시 개수 셀렉트 옵션 수정 (500 → 400)
  * components/ProductFilters.tsx: itemsPerPage props 전달 및 showItemsPerPage 활성화
  * app/products/page.tsx: itemsPerPage 상태 연결

상품명	매핑코드	내외주	택배사	포장	가격	판매가	택배비	구매처	계산서	카테고리	상품타입	사방넷명	비고